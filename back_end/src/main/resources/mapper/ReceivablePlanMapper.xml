<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.model.mapper.SzReceivablePlanMapper">
    <resultMap id="szPlanResult" type="com.example.entity.request.SzReceivablePlan">
        <id property="planId" column="plan_id"/>
        <result property="planMoney" column="plan_money"/>
        <result property="planTime" column="plan_time"/>
        <result property="planMoney" column="plan_money"/>
        <result property="planPeriod" column="plan_period"/>
        <result property="planCaozuopeople" column="plan_caozuopeople"/>
        <result property="planCaozuotime" column="plan_caozuotime"/>
        <result property="planInvoice" column="plan_invoice"/>
        <result property="ordId" column="ord_id"/>
    </resultMap>
    <select id="listszPlan" resultMap="szPlanResult">
        SELECT plan_id, plan_money, plan_time, plan_period, plan_caozuopeople, plan_caozuotime, plan_invoice, ord_id
        FROM sz_receivable_plan
        <where>
            <if test="planTime != null and planTime !='' ">
                AND plan_time LIKE CONCAT('%',#{planTime})
            </if>
            <if test="planMoney != null and planMoney !='' ">
                AND plan_money LIKE CONCAT('%',#{planMoney})
            </if>
            <if test="planPeriod != null and planPeriod !='' ">
                AND plan_period LIKE CONCAT('%',#{planPeriod})
            </if>
            <if test="planCaozuopeople != null and planCaozuopeople !='' ">
                AND plan_caozuopeople LIKE CONCAT('%',#{planCaozuopeople})
            </if>
            <if test="planInvoice != null">
                AND plan_invoice = #{planInvoice})
            </if>

        </where>
        ORDER BY plan_money DESC
    </select>
</mapper>
